<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ –ö–æ–ª–µ—Å–æ –£–¥–∞—á–∏</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #0d3b1e, #1a5c2f);
      color: white;
      text-align: center;
      padding: 20px;
    }
    h1 {
      font-size: 2.2rem;
      margin-bottom: 20px;
      text-shadow: 0 0 10px gold;
    }
    #wheel-container {
      position: relative;
      width: 320px;
      height: 320px;
      margin: 0 auto 30px;
    }
    #wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      position: relative;
      transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
      transform: rotate(0deg);
      overflow: hidden;
      box-shadow: 0 0 20px rgba(255,215,0,0.7);
    }
    .sector {
      position: absolute;
      width: 50%;
      height: 50%;
      transform-origin: bottom right;
      left: 0;
      top: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding-left: 20px;
      box-sizing: border-box;
      overflow: hidden;
      text-align: center;
      font-weight: bold;
      font-size: 14px;
      color: white;
      text-shadow: 1px 1px 2px black;
    }
    #pointer {
      position: absolute;
      top: -25px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 32px;
      color: gold;
      z-index: 10;
      text-shadow: 0 0 8px white;
    }
    textarea {
      width: 90%;
      max-width: 500px;
      height: 120px;
      margin: 10px auto;
      padding: 10px;
      font-size: 16px;
      border-radius: 10px;
      border: 2px solid gold;
      background: rgba(255,255,255,0.1);
      color: white;
    }
    button {
      padding: 12px 30px;
      font-size: 18px;
      background: gold;
      color: #0d3b1e;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: transform 0.2s;
    }
    button:hover {
      transform: scale(1.05);
    }
    #winner {
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
      color: gold;
      text-shadow: 0 0 10px white;
    }
  </style>
</head>
<body>
  <h1>üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ –ö–æ–ª–µ—Å–æ –£–¥–∞—á–∏ üéÅ</h1>

  <div id="wheel-container">
    <div id="pointer">‚ñº</div>
    <div id="wheel"></div>
  </div>

  <textarea id="names" placeholder="–í–≤–µ–¥–∏—Ç–µ –§–ò–û —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É (–º–∏–Ω–∏–º—É–º 2)"></textarea><br>
  <button onclick="generateWheel()">–°–æ–∑–¥–∞—Ç—å –∫–æ–ª–µ—Å–æ</button>
  <button onclick="spinWheel()">–ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ!</button>

  <div id="winner"></div>

  <script>
    let names = [];
    let rotation = 0;

    function generateWheel() {
      const input = document.getElementById('names').value.trim();
      names = input.split('\n').map(n => n.trim()).filter(n => n);
      if (names.length < 2) {
        alert('–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 —É—á–∞—Å—Ç–Ω–∏–∫–∞ –¥–ª—è –∫–æ–ª–µ—Å–∞!');
        return;
      }

      const wheel = document.getElementById('wheel');
      wheel.innerHTML = '';

      const sectorAngle = 360 / names.length;
      const colors = [
        '#e63946', '#f1faee', '#a8dadc', '#457b9d', '#1d3557',
        '#ff9e00', '#7209b7', '#3a86ff', '#fb5607', '#8338ec', '#ff006e'
      ];

      for (let i = 0; i < names.length; i++) {
        const sector = document.createElement('div');
        sector.className = 'sector';
        sector.style.transform = `rotate(${i * sectorAngle}deg)`;
        sector.style.backgroundColor = colors[i % colors.length];

        const label = document.createElement('div');
        label.innerText = names[i];
        label.style.transform = `rotate(${-i * sectorAngle}deg)`;
        label.style.whiteSpace = 'nowrap';
        label.style.maxWidth = '120px';

        sector.appendChild(label);
        wheel.appendChild(sector);
      }

      document.getElementById('winner').innerText = '';
    }

    function spinWheel() {
      if (names.length === 0) {
        alert('–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–µ—Å–æ!');
        return;
      }

      // –í–°–ï–ì–î–ê –í–´–ò–ì–†–´–í–ê–ï–¢ –ü–ï–†–í–´–ô –£–ß–ê–°–¢–ù–ò–ö (–∫–∞–∫ –≤—ã –ø—Ä–æ—Å–∏–ª–∏)
      const winnerIndex = 0;
      const winner = names[winnerIndex];

      // –£–≥–æ–ª, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—å, —á—Ç–æ–±—ã –ø–µ—Ä–≤—ã–π —Å–µ–∫—Ç–æ—Ä –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–¥ —Å—Ç—Ä–µ–ª–∫–æ–π
      // –°—Ç—Ä–µ–ª–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ 0¬∞ (–≤–µ—Ä—Ö), –∞ —Å–µ–∫—Ç–æ—Ä 0 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0¬∞ –∏ –∏–¥—ë—Ç –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ
      // –ß—Ç–æ–±—ã —Å–µ–∫—Ç–æ—Ä 0 –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–¥ —Å—Ç—Ä–µ–ª–∫–æ–π, –∫–æ–ª–µ—Å–æ –¥–æ–ª–∂–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—å—Å—è —Ç–∞–∫,
      // —á—Ç–æ–±—ã –µ–≥–æ —Å–µ—Ä–µ–¥–∏–Ω–∞ (sectorAngle / 2) –æ–∫–∞–∑–∞–ª–∞—Å—å –≤–≤–µ—Ä—Ö—É ‚Üí –ø–æ–≤–æ—Ä–æ—Ç = -sectorAngle/2 + 360*k
      const sectorAngle = 360 / names.length;
      const targetAngle = -(sectorAngle / 2); // —Å–µ—Ä–µ–¥–∏–Ω–∞ —Å–µ–∫—Ç–æ—Ä–∞ 0

      rotation += 3600; // –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–æ–≤
      const finalRotation = rotation + targetAngle;

      document.getElementById('wheel').style.transform = `rotate(${finalRotation}deg)`;

      setTimeout(() => {
        document.getElementById('winner').innerText = `üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: ${winner}! üéâ`;
      }, 4100);
    }
  </script>
</body>
</html>
