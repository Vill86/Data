<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∞—Ç–∞ –ø—Ä–æ–ø–∏—Å—å—é</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
            max-width: 500px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
            font-size: 1.8em;
        }

        .calendar {
            margin-bottom: 25px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .calendar-header button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .calendar-header button:hover {
            background: #5a6fd6;
            transform: scale(1.05);
        }

        .month-year {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }

        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 10px;
        }

        .weekday {
            text-align: center;
            font-weight: bold;
            color: #666;
            padding: 10px 0;
            font-size: 0.9em;
        }

        .days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .day {
            text-align: center;
            padding: 12px 8px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
        }

        .day:hover {
            background: #e8e8ff;
            transform: scale(1.1);
        }

        .day.selected {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        .day.today {
            border: 2px solid #764ba2;
        }

        .day.other-month {
            color: #ccc;
        }

        .result-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .result-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .result-box {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }

        .result-box:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .result-label {
            font-size: 0.85em;
            color: #888;
            margin-bottom: 5px;
        }

        .result-text {
            font-size: 1.1em;
            color: #333;
            line-height: 1.5;
            cursor: pointer;
        }

        .result-text:hover {
            color: #667eea;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .toggle-btn {
            flex: 1;
            min-width: 200px;
            padding: 15px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .toggle-btn.active {
            background: #667eea;
            color: white;
        }

        .toggle-btn.inactive {
            background: #e0e0e0;
            color: #666;
        }

        .toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: currentColor;
        }

        .copy-hint {
            text-align: center;
            color: #888;
            font-size: 0.85em;
            margin-top: 10px;
        }

        .copied {
            animation: flash 0.5s;
        }

        @keyframes flash {
            0% { background: #d4edda; }
            100% { background: white; }
        }

        .year-selector {
            display: flex;
            gap: 5px;
            align-items: center;
        }

        .year-input {
            width: 80px;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            text-align: center;
        }

        .year-input:focus {
            outline: none;
            border-color: #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìÖ –î–∞—Ç–∞ –ø—Ä–æ–ø–∏—Å—å—é</h1>
        
        <div class="calendar">
            <div class="calendar-header">
                <button onclick="changeMonth(-1)">‚óÄ</button>
                <div class="year-selector">
                    <span class="month-year" id="monthYear"></span>
                    <input type="number" class="year-input" id="yearInput" min="1" max="9999">
                </div>
                <button onclick="changeMonth(1)">‚ñ∂</button>
            </div>
            <div class="weekdays">
                <div class="weekday">–ü–Ω</div>
                <div class="weekday">–í—Ç</div>
                <div class="weekday">–°—Ä</div>
                <div class="weekday">–ß—Ç</div>
                <div class="weekday">–ü—Ç</div>
                <div class="weekday">–°–±</div>
                <div class="weekday">–í—Å</div>
            </div>
            <div class="days" id="daysContainer"></div>
        </div>

        <div class="controls">
            <button class="toggle-btn active" id="capitalBtn" onclick="toggleCapital()">
                <span class="indicator"></span>
                –ü–µ—Ä–≤–∞—è –∑–∞–≥–ª–∞–≤–Ω–∞—è: –í–ö–õ
            </button>
        </div>

        <div class="result-section">
            <h3>üìù –í—ã–±—Ä–∞–Ω–Ω–∞—è –¥–∞—Ç–∞:</h3>
            
            <div class="result-box">
                <div class="result-label">–ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (—á—Ç–æ?):</div>
                <div class="result-text" id="nominative" onclick="copyText(this)">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ</div>
            </div>
            
            <div class="result-box">
                <div class="result-label">–†–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (—á–µ–≥–æ?):</div>
                <div class="result-text" id="genitive" onclick="copyText(this)">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ</div>
            </div>

            <div class="result-box">
                <div class="result-label">–î–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (—á–µ–º—É?):</div>
                <div class="result-text" id="dative" onclick="copyText(this)">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ</div>
            </div>

            <div class="result-box">
                <div class="result-label">–¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (—á–µ–º?):</div>
                <div class="result-text" id="instrumental" onclick="copyText(this)">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ</div>
            </div>

            <div class="result-box">
                <div class="result-label">–ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π –ø–∞–¥–µ–∂ (–æ —á—ë–º?):</div>
                <div class="result-text" id="prepositional" onclick="copyText(this)">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ</div>
            </div>
            
            <div class="copy-hint">üí° –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</div>
        </div>
    </div>

    <script>
        let currentDate = new Date();
        let selectedDate = null;
        let isCapital = true;

        // –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —á–∏—Å–µ–ª –≤ —Å–ª–æ–≤–∞
        const units = {
            nominative: ['', '–æ–¥–∏–Ω', '–¥–≤–∞', '—Ç—Ä–∏', '—á–µ—Ç—ã—Ä–µ', '–ø—è—Ç—å', '—à–µ—Å—Ç—å', '—Å–µ–º—å', '–≤–æ—Å–µ–º—å', '–¥–µ–≤—è—Ç—å'],
            genitive: ['', '–æ–¥–Ω–æ–≥–æ', '–¥–≤—É—Ö', '—Ç—Ä—ë—Ö', '—á–µ—Ç—ã—Ä—ë—Ö', '–ø—è—Ç–∏', '—à–µ—Å—Ç–∏', '—Å–µ–º–∏', '–≤–æ—Å—å–º–∏', '–¥–µ–≤—è—Ç–∏'],
            dative: ['', '–æ–¥–Ω–æ–º—É', '–¥–≤—É–º', '—Ç—Ä—ë–º', '—á–µ—Ç—ã—Ä—ë–º', '–ø—è—Ç–∏', '—à–µ—Å—Ç–∏', '—Å–µ–º–∏', '–≤–æ—Å—å–º–∏', '–¥–µ–≤—è—Ç–∏'],
            instrumental: ['', '–æ–¥–Ω–∏–º', '–¥–≤—É–º—è', '—Ç—Ä–µ–º—è', '—á–µ—Ç—ã—Ä—å–º—è', '–ø—è—Ç—å—é', '—à–µ—Å—Ç—å—é', '—Å–µ–º—å—é', '–≤–æ—Å–µ–º—å—é', '–¥–µ–≤—è—Ç—å—é'],
            prepositional: ['', '–æ–¥–Ω–æ–º', '–¥–≤—É—Ö', '—Ç—Ä—ë—Ö', '—á–µ—Ç—ã—Ä—ë—Ö', '–ø—è—Ç–∏', '—à–µ—Å—Ç–∏', '—Å–µ–º–∏', '–≤–æ—Å—å–º–∏', '–¥–µ–≤—è—Ç–∏']
        };

        const unitsF = {
            nominative: ['', '–æ–¥–Ω–∞', '–¥–≤–µ', '—Ç—Ä–∏', '—á–µ—Ç—ã—Ä–µ', '–ø—è—Ç—å', '—à–µ—Å—Ç—å', '—Å–µ–º—å', '–≤–æ—Å–µ–º—å', '–¥–µ–≤—è—Ç—å'],
            genitive: ['', '–æ–¥–Ω–æ–π', '–¥–≤—É—Ö', '—Ç—Ä—ë—Ö', '—á–µ—Ç—ã—Ä—ë—Ö', '–ø—è—Ç–∏', '—à–µ—Å—Ç–∏', '—Å–µ–º–∏', '–≤–æ—Å—å–º–∏', '–¥–µ–≤—è—Ç–∏'],
            dative: ['', '–æ–¥–Ω–æ–π', '–¥–≤—É–º', '—Ç—Ä—ë–º', '—á–µ—Ç—ã—Ä—ë–º', '–ø—è—Ç–∏', '—à–µ—Å—Ç–∏', '—Å–µ–º–∏', '–≤–æ—Å—å–º–∏', '–¥–µ–≤—è—Ç–∏'],
            instrumental: ['', '–æ–¥–Ω–æ–π', '–¥–≤—É–º—è', '—Ç—Ä–µ–º—è', '—á–µ—Ç—ã—Ä—å–º—è', '–ø—è—Ç—å—é', '—à–µ—Å—Ç—å—é', '—Å–µ–º—å—é', '–≤–æ—Å–µ–º—å—é', '–¥–µ–≤—è—Ç—å—é'],
            prepositional: ['', '–æ–¥–Ω–æ–π', '–¥–≤—É—Ö', '—Ç—Ä—ë—Ö', '—á–µ—Ç—ã—Ä—ë—Ö', '–ø—è—Ç–∏', '—à–µ—Å—Ç–∏', '—Å–µ–º–∏', '–≤–æ—Å—å–º–∏', '–¥–µ–≤—è—Ç–∏']
        };

        const teens = {
            nominative: ['–¥–µ—Å—è—Ç—å', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç—å', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç—å', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç—å', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç—å', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç—å', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç—å', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç—å'],
            genitive: ['–¥–µ—Å—è—Ç–∏', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–∏', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–∏', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–∏', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–∏', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–∏', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–∏', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–∏', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–∏'],
            dative: ['–¥–µ—Å—è—Ç–∏', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–∏', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–∏', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–∏', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–∏', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–∏', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–∏', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–∏', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–∏'],
            instrumental: ['–¥–µ—Å—è—Ç—å—é', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç—å—é', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç—å—é', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç—å—é', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç—å—é', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç—å—é', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç—å—é', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å—é', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å—é', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç—å—é'],
            prepositional: ['–¥–µ—Å—è—Ç–∏', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–∏', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–∏', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–∏', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–∏', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–∏', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–∏', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–∏', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–∏', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–∏']
        };

        const tens = {
            nominative: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç—å', '—Ç—Ä–∏–¥—Ü–∞—Ç—å', '—Å–æ—Ä–æ–∫', '–ø—è—Ç—å–¥–µ—Å—è—Ç', '—à–µ—Å—Ç—å–¥–µ—Å—è—Ç', '—Å–µ–º—å–¥–µ—Å—è—Ç', '–≤–æ—Å–µ–º—å–¥–µ—Å—è—Ç', '–¥–µ–≤—è–Ω–æ—Å—Ç–æ'],
            genitive: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–∏', '—Ç—Ä–∏–¥—Ü–∞—Ç–∏', '—Å–æ—Ä–æ–∫–∞', '–ø—è—Ç–∏–¥–µ—Å—è—Ç–∏', '—à–µ—Å—Ç–∏–¥–µ—Å—è—Ç–∏', '—Å–µ–º–∏–¥–µ—Å—è—Ç–∏', '–≤–æ—Å—å–º–∏–¥–µ—Å—è—Ç–∏', '–¥–µ–≤—è–Ω–æ—Å—Ç–∞'],
            dative: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–∏', '—Ç—Ä–∏–¥—Ü–∞—Ç–∏', '—Å–æ—Ä–æ–∫–∞', '–ø—è—Ç–∏–¥–µ—Å—è—Ç–∏', '—à–µ—Å—Ç–∏–¥–µ—Å—è—Ç–∏', '—Å–µ–º–∏–¥–µ—Å—è—Ç–∏', '–≤–æ—Å—å–º–∏–¥–µ—Å—è—Ç–∏', '–¥–µ–≤—è–Ω–æ—Å—Ç–∞'],
            instrumental: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç—å—é', '—Ç—Ä–∏–¥—Ü–∞—Ç—å—é', '—Å–æ—Ä–æ–∫–∞', '–ø—è—Ç—å—é–¥–µ—Å—è—Ç—å—é', '—à–µ—Å—Ç—å—é–¥–µ—Å—è—Ç—å—é', '—Å–µ–º—å—é–¥–µ—Å—è—Ç—å—é', '–≤–æ—Å–µ–º—å—é–¥–µ—Å—è—Ç—å—é', '–¥–µ–≤—è–Ω–æ—Å—Ç–∞'],
            prepositional: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–∏', '—Ç—Ä–∏–¥—Ü–∞—Ç–∏', '—Å–æ—Ä–æ–∫–∞', '–ø—è—Ç–∏–¥–µ—Å—è—Ç–∏', '—à–µ—Å—Ç–∏–¥–µ—Å—è—Ç–∏', '—Å–µ–º–∏–¥–µ—Å—è—Ç–∏', '–≤–æ—Å—å–º–∏–¥–µ—Å—è—Ç–∏', '–¥–µ–≤—è–Ω–æ—Å—Ç–∞']
        };

        const hundreds = {
            nominative: ['', '—Å—Ç–æ', '–¥–≤–µ—Å—Ç–∏', '—Ç—Ä–∏—Å—Ç–∞', '—á–µ—Ç—ã—Ä–µ—Å—Ç–∞', '–ø—è—Ç—å—Å–æ—Ç', '—à–µ—Å—Ç—å—Å–æ—Ç', '—Å–µ–º—å—Å–æ—Ç', '–≤–æ—Å–µ–º—å—Å–æ—Ç', '–¥–µ–≤—è—Ç—å—Å–æ—Ç'],
            genitive: ['', '—Å—Ç–∞', '–¥–≤—É—Ö—Å–æ—Ç', '—Ç—Ä—ë—Ö—Å–æ—Ç', '—á–µ—Ç—ã—Ä—ë—Ö—Å–æ—Ç', '–ø—è—Ç–∏—Å–æ—Ç', '—à–µ—Å—Ç–∏—Å–æ—Ç', '—Å–µ–º–∏—Å–æ—Ç', '–≤–æ—Å—å–º–∏—Å–æ—Ç', '–¥–µ–≤—è—Ç–∏—Å–æ—Ç'],
            dative: ['', '—Å—Ç–∞', '–¥–≤—É–º—Å—Ç–∞–º', '—Ç—Ä—ë–º—Å—Ç–∞–º', '—á–µ—Ç—ã—Ä—ë–º—Å—Ç–∞–º', '–ø—è—Ç–∏—Å—Ç–∞–º', '—à–µ—Å—Ç–∏—Å—Ç–∞–º', '—Å–µ–º–∏—Å—Ç–∞–º', '–≤–æ—Å—å–º–∏—Å—Ç–∞–º', '–¥–µ–≤—è—Ç–∏—Å—Ç–∞–º'],
            instrumental: ['', '—Å—Ç–∞', '–¥–≤—É–º—è—Å—Ç–∞–º–∏', '—Ç—Ä–µ–º—è—Å—Ç–∞–º–∏', '—á–µ—Ç—ã—Ä—å–º—è—Å—Ç–∞–º–∏', '–ø—è—Ç—å—é—Å—Ç–∞–º–∏', '—à–µ—Å—Ç—å—é—Å—Ç–∞–º–∏', '—Å–µ–º—å—é—Å—Ç–∞–º–∏', '–≤–æ—Å–µ–º—å—é—Å—Ç–∞–º–∏', '–¥–µ–≤—è—Ç—å—é—Å—Ç–∞–º–∏'],
            prepositional: ['', '—Å—Ç–∞', '–¥–≤—É—Ö—Å—Ç–∞—Ö', '—Ç—Ä—ë—Ö—Å—Ç–∞—Ö', '—á–µ—Ç—ã—Ä—ë—Ö—Å—Ç–∞—Ö', '–ø—è—Ç–∏—Å—Ç–∞—Ö', '—à–µ—Å—Ç–∏—Å—Ç–∞—Ö', '—Å–µ–º–∏—Å—Ç–∞—Ö', '–≤–æ—Å—å–º–∏—Å—Ç–∞—Ö', '–¥–µ–≤—è—Ç–∏—Å—Ç–∞—Ö']
        };

        const thousands = {
            nominative: { one: '—Ç—ã—Å—è—á–∞', few: '—Ç—ã—Å—è—á–∏', many: '—Ç—ã—Å—è—á' },
            genitive: { one: '—Ç—ã—Å—è—á–∏', few: '—Ç—ã—Å—è—á', many: '—Ç—ã—Å—è—á' },
            dative: { one: '—Ç—ã—Å—è—á–µ', few: '—Ç—ã—Å—è—á–∞–º', many: '—Ç—ã—Å—è—á–∞–º' },
            instrumental: { one: '—Ç—ã—Å—è—á–µ–π', few: '—Ç—ã—Å—è—á–∞–º–∏', many: '—Ç—ã—Å—è—á–∞–º–∏' },
            prepositional: { one: '—Ç—ã—Å—è—á–µ', few: '—Ç—ã—Å—è—á–∞—Ö', many: '—Ç—ã—Å—è—á–∞—Ö' }
        };

        // –ü–æ—Ä—è–¥–∫–æ–≤—ã–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è –¥–Ω—è
        const dayOrdinal = {
            nominative: {
                units: ['', '–ø–µ—Ä–≤–æ–µ', '–≤—Ç–æ—Ä–æ–µ', '—Ç—Ä–µ—Ç—å–µ', '—á–µ—Ç–≤—ë—Ä—Ç–æ–µ', '–ø—è—Ç–æ–µ', '—à–µ—Å—Ç–æ–µ', '—Å–µ–¥—å–º–æ–µ', '–≤–æ—Å—å–º–æ–µ', '–¥–µ–≤—è—Ç–æ–µ'],
                teens: ['–¥–µ—Å—è—Ç–æ–µ', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–æ–µ', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–æ–µ', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–æ–µ', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–µ', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–µ', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–æ–µ', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–µ', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–µ', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–µ'],
                tens: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–æ–µ', '—Ç—Ä–∏–¥—Ü–∞—Ç–æ–µ', '—Ç—Ä–∏–¥—Ü–∞—Ç—å', '', '', '', '', ''],
                tensPrefix: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç—å', '—Ç—Ä–∏–¥—Ü–∞—Ç—å', '', '', '', '', '', '']
            },
            genitive: {
                units: ['', '–ø–µ—Ä–≤–æ–≥–æ', '–≤—Ç–æ—Ä–æ–≥–æ', '—Ç—Ä–µ—Ç—å–µ–≥–æ', '—á–µ—Ç–≤—ë—Ä—Ç–æ–≥–æ', '–ø—è—Ç–æ–≥–æ', '—à–µ—Å—Ç–æ–≥–æ', '—Å–µ–¥—å–º–æ–≥–æ', '–≤–æ—Å—å–º–æ–≥–æ', '–¥–µ–≤—è—Ç–æ–≥–æ'],
                teens: ['–¥–µ—Å—è—Ç–æ–≥–æ', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ'],
                tens: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–æ–≥–æ', '—Ç—Ä–∏–¥—Ü–∞—Ç–æ–≥–æ', '—Ç—Ä–∏–¥—Ü–∞—Ç—å', '', '', '', '', ''],
                tensPrefix: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç—å', '—Ç—Ä–∏–¥—Ü–∞—Ç—å', '', '', '', '', '', '']
            },
            dative: {
                units: ['', '–ø–µ—Ä–≤–æ–º—É', '–≤—Ç–æ—Ä–æ–º—É', '—Ç—Ä–µ—Ç—å–µ–º—É', '—á–µ—Ç–≤—ë—Ä—Ç–æ–º—É', '–ø—è—Ç–æ–º—É', '—à–µ—Å—Ç–æ–º—É', '—Å–µ–¥—å–º–æ–º—É', '–≤–æ—Å—å–º–æ–º—É', '–¥–µ–≤—è—Ç–æ–º—É'],
                teens: ['–¥–µ—Å—è—Ç–æ–º—É', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º—É'],
                tens: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–æ–º—É', '—Ç—Ä–∏–¥—Ü–∞—Ç–æ–º—É', '', '', '', '', '', ''],
                tensPrefix: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç—å', '—Ç—Ä–∏–¥—Ü–∞—Ç—å', '', '', '', '', '', '']
            },
            instrumental: {
                units: ['', '–ø–µ—Ä–≤—ã–º', '–≤—Ç–æ—Ä—ã–º', '—Ç—Ä–µ—Ç—å–∏–º', '—á–µ—Ç–≤—ë—Ä—Ç—ã–º', '–ø—è—Ç—ã–º', '—à–µ—Å—Ç—ã–º', '—Å–µ–¥—å–º—ã–º', '–≤–æ—Å—å–º—ã–º', '–¥–µ–≤—è—Ç—ã–º'],
                teens: ['–¥–µ—Å—è—Ç—ã–º', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç—ã–º', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç—ã–º', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç—ã–º', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç—ã–º', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç—ã–º', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç—ã–º', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—ã–º', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—ã–º', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç—ã–º'],
                tens: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç—ã–º', '—Ç—Ä–∏–¥—Ü–∞—Ç—ã–º', '', '', '', '', '', ''],
                tensPrefix: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç—å', '—Ç—Ä–∏–¥—Ü–∞—Ç—å', '', '', '', '', '', '']
            },
            prepositional: {
                units: ['', '–ø–µ—Ä–≤–æ–º', '–≤—Ç–æ—Ä–æ–º', '—Ç—Ä–µ—Ç—å–µ–º', '—á–µ—Ç–≤—ë—Ä—Ç–æ–º', '–ø—è—Ç–æ–º', '—à–µ—Å—Ç–æ–º', '—Å–µ–¥—å–º–æ–º', '–≤–æ—Å—å–º–æ–º', '–¥–µ–≤—è—Ç–æ–º'],
                teens: ['–¥–µ—Å—è—Ç–æ–º', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–æ–º', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–æ–º', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–æ–º', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–º', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–º', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–º', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º'],
                tens: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–æ–º', '—Ç—Ä–∏–¥—Ü–∞—Ç–æ–º', '', '', '', '', '', ''],
                tensPrefix: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç—å', '—Ç—Ä–∏–¥—Ü–∞—Ç—å', '', '', '', '', '', '']
            }
        };

        // –ú–µ—Å—è—Ü—ã
        const months = {
            nominative: ['—è–Ω–≤–∞—Ä—è', '—Ñ–µ–≤—Ä–∞–ª—è', '–º–∞—Ä—Ç–∞', '–∞–ø—Ä–µ–ª—è', '–º–∞—è', '–∏—é–Ω—è', '–∏—é–ª—è', '–∞–≤–≥—É—Å—Ç–∞', '—Å–µ–Ω—Ç—è–±—Ä—è', '–æ–∫—Ç—è–±—Ä—è', '–Ω–æ—è–±—Ä—è', '–¥–µ–∫–∞–±—Ä—è'],
            genitive: ['—è–Ω–≤–∞—Ä—è', '—Ñ–µ–≤—Ä–∞–ª—è', '–º–∞—Ä—Ç–∞', '–∞–ø—Ä–µ–ª—è', '–º–∞—è', '–∏—é–Ω—è', '–∏—é–ª—è', '–∞–≤–≥—É—Å—Ç–∞', '—Å–µ–Ω—Ç—è–±—Ä—è', '–æ–∫—Ç—è–±—Ä—è', '–Ω–æ—è–±—Ä—è', '–¥–µ–∫–∞–±—Ä—è'],
            dative: ['—è–Ω–≤–∞—Ä—é', '—Ñ–µ–≤—Ä–∞–ª—é', '–º–∞—Ä—Ç—É', '–∞–ø—Ä–µ–ª—é', '–º–∞—é', '–∏—é–Ω—é', '–∏—é–ª—é', '–∞–≤–≥—É—Å—Ç—É', '—Å–µ–Ω—Ç—è–±—Ä—é', '–æ–∫—Ç—è–±—Ä—é', '–Ω–æ—è–±—Ä—é', '–¥–µ–∫–∞–±—Ä—é'],
            instrumental: ['—è–Ω–≤–∞—Ä—ë–º', '—Ñ–µ–≤—Ä–∞–ª—ë–º', '–º–∞—Ä—Ç–æ–º', '–∞–ø—Ä–µ–ª–µ–º', '–º–∞–µ–º', '–∏—é–Ω–µ–º', '–∏—é–ª–µ–º', '–∞–≤–≥—É—Å—Ç–æ–º', '—Å–µ–Ω—Ç—è–±—Ä—ë–º', '–æ–∫—Ç—è–±—Ä—ë–º', '–Ω–æ—è–±—Ä—ë–º', '–¥–µ–∫–∞–±—Ä—ë–º'],
            prepositional: ['—è–Ω–≤–∞—Ä–µ', '—Ñ–µ–≤—Ä–∞–ª–µ', '–º–∞—Ä—Ç–µ', '–∞–ø—Ä–µ–ª–µ', '–º–∞–µ', '–∏—é–Ω–µ', '–∏—é–ª–µ', '–∞–≤–≥—É—Å—Ç–µ', '—Å–µ–Ω—Ç—è–±—Ä–µ', '–æ–∫—Ç—è–±—Ä–µ', '–Ω–æ—è–±—Ä–µ', '–¥–µ–∫–∞–±—Ä–µ']
        };

        const monthNames = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å', '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];

        function getDayWord(day, caseType) {
            const data = dayOrdinal[caseType];
            if (day >= 10 && day <= 19) {
                return data.teens[day - 10];
            }
            const ten = Math.floor(day / 10);
            const unit = day % 10;
            if (unit === 0 && ten > 0) {
                return data.tens[ten];
            }
            if (ten > 0) {
                return data.tensPrefix[ten] + ' ' + data.units[unit];
            }
            return data.units[unit];
        }

        function getThousandForm(num, caseType) {
            const t = thousands[caseType];
            if (num % 100 >= 11 && num % 100 <= 19) return t.many;
            if (num % 10 === 1) return t.one;
            if (num % 10 >= 2 && num % 10 <= 4) return t.few;
            return t.many;
        }

        function getYearWord(year, caseType) {
            const parts = [];
            
            // –¢—ã—Å—è—á–∏
            const th = Math.floor(year / 1000);
            if (th > 0) {
                if (th === 1) {
                    parts.push(unitsF[caseType][1]);
                } else if (th === 2) {
                    parts.push(unitsF[caseType][2]);
                } else {
                    parts.push(unitsF[caseType][th]);
                }
                parts.push(getThousandForm(th, caseType));
            }
            
            // –°–æ—Ç–Ω–∏
            const h = Math.floor((year % 1000) / 100);
            if (h > 0) {
                parts.push(hundreds[caseType][h]);
            }
            
            // –î–µ—Å—è—Ç–∫–∏ –∏ –µ–¥–∏–Ω–∏—Ü—ã
            const remainder = year % 100;
            if (remainder >= 10 && remainder <= 19) {
                // –î–ª—è –≥–æ–¥–∞ –Ω—É–∂–Ω—ã –ø–æ—Ä—è–¥–∫–æ–≤—ã–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ
                const ordinalTeens = {
                    nominative: ['–¥–µ—Å—è—Ç–æ–≥–æ', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ'],
                    genitive: ['–¥–µ—Å—è—Ç–æ–≥–æ', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–≥–æ'],
                    dative: ['–¥–µ—Å—è—Ç–æ–º—É', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–º—É', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º—É'],
                    instrumental: ['–¥–µ—Å—è—Ç—ã–º', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç—ã–º', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç—ã–º', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç—ã–º', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç—ã–º', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç—ã–º', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç—ã–º', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—ã–º', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—ã–º', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç—ã–º'],
                    prepositional: ['–¥–µ—Å—è—Ç–æ–º', '–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–æ–º', '–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç–æ–º', '—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç–æ–º', '—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–º', '–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º', '—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º', '—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–º', '–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–æ–º', '–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç–æ–º']
                };
                parts.push(ordinalTeens[caseType][remainder - 10]);
            } else {
                const t = Math.floor(remainder / 10);
                const u = remainder % 10;
                
                if (t > 0 && u === 0) {
                    // –¢–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–∏ (20, 30, ...)
                    const ordinalTens = {
                        nominative: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–æ–≥–æ', '—Ç—Ä–∏–¥—Ü–∞—Ç–æ–≥–æ', '—Å–æ—Ä–æ–∫–æ–≤–æ–≥–æ', '–ø—è—Ç–∏–¥–µ—Å—è—Ç–æ–≥–æ', '—à–µ—Å—Ç–∏–¥–µ—Å—è—Ç–æ–≥–æ', '—Å–µ–º–∏–¥–µ—Å—è—Ç–æ–≥–æ', '–≤–æ—Å—å–º–∏–¥–µ—Å—è—Ç–æ–≥–æ', '–¥–µ–≤—è–Ω–æ—Å—Ç–æ–≥–æ'],
                        genitive: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–æ–≥–æ', '—Ç—Ä–∏–¥—Ü–∞—Ç–æ–≥–æ', '—Å–æ—Ä–æ–∫–æ–≤–æ–≥–æ', '–ø—è—Ç–∏–¥–µ—Å—è—Ç–æ–≥–æ', '—à–µ—Å—Ç–∏–¥–µ—Å—è—Ç–æ–≥–æ', '—Å–µ–º–∏–¥–µ—Å—è—Ç–æ–≥–æ', '–≤–æ—Å—å–º–∏–¥–µ—Å—è—Ç–æ–≥–æ', '–¥–µ–≤—è–Ω–æ—Å—Ç–æ–≥–æ'],
                        dative: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–æ–º—É', '—Ç—Ä–∏–¥—Ü–∞—Ç–æ–º—É', '—Å–æ—Ä–æ–∫–æ–≤–æ–º—É', '–ø—è—Ç–∏–¥–µ—Å—è—Ç–æ–º—É', '—à–µ—Å—Ç–∏–¥–µ—Å—è—Ç–æ–º—É', '—Å–µ–º–∏–¥–µ—Å—è—Ç–æ–º—É', '–≤–æ—Å—å–º–∏–¥–µ—Å—è—Ç–æ–º—É', '–¥–µ–≤—è–Ω–æ—Å—Ç–æ–º—É'],
                        instrumental: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç—ã–º', '—Ç—Ä–∏–¥—Ü–∞—Ç—ã–º', '—Å–æ—Ä–æ–∫–æ–≤—ã–º', '–ø—è—Ç–∏–¥–µ—Å—è—Ç—ã–º', '—à–µ—Å—Ç–∏–¥–µ—Å—è—Ç—ã–º', '—Å–µ–º–∏–¥–µ—Å—è—Ç—ã–º', '–≤–æ—Å—å–º–∏–¥–µ—Å—è—Ç—ã–º', '–¥–µ–≤—è–Ω–æ—Å—Ç—ã–º'],
                        prepositional: ['', '', '–¥–≤–∞–¥—Ü–∞—Ç–æ–º', '—Ç—Ä–∏–¥—Ü–∞—Ç–æ–º', '—Å–æ—Ä–æ–∫–æ–≤–æ–º', '–ø—è—Ç–∏–¥–µ—Å—è—Ç–æ–º', '—à–µ—Å—Ç–∏–¥–µ—Å—è—Ç–æ–º', '—Å–µ–º–∏–¥–µ—Å—è—Ç–æ–º', '–≤–æ—Å—å–º–∏–¥–µ—Å—è—Ç–æ–º', '–¥–µ–≤—è–Ω–æ—Å—Ç–æ–º']
                    };
                    parts.push(ordinalTens[caseType][t]);
                } else {
                    if (t > 0) {
                        parts.push(tens[caseType][t]);
                    }
                    if (u > 0) {
                        const ordinalUnits = {
                            nominative: ['', '–ø–µ—Ä–≤–æ–≥–æ', '–≤—Ç–æ—Ä–æ–≥–æ', '—Ç—Ä–µ—Ç—å–µ–≥–æ', '—á–µ—Ç–≤—ë—Ä—Ç–æ–≥–æ', '–ø—è—Ç–æ–≥–æ', '—à–µ—Å—Ç–æ–≥–æ', '—Å–µ–¥—å–º–æ–≥–æ', '–≤–æ—Å—å–º–æ–≥–æ', '–¥–µ–≤—è—Ç–æ–≥–æ'],
                            genitive: ['', '–ø–µ—Ä–≤–æ–≥–æ', '–≤—Ç–æ—Ä–æ–≥–æ', '—Ç—Ä–µ—Ç—å–µ–≥–æ', '—á–µ—Ç–≤—ë—Ä—Ç–æ–≥–æ', '–ø—è—Ç–æ–≥–æ', '—à–µ—Å—Ç–æ–≥–æ', '—Å–µ–¥—å–º–æ–≥–æ', '–≤–æ—Å—å–º–æ–≥–æ', '–¥–µ–≤—è—Ç–æ–≥–æ'],
                            dative: ['', '–ø–µ—Ä–≤–æ–º—É', '–≤—Ç–æ—Ä–æ–º—É', '—Ç—Ä–µ—Ç—å–µ–º—É', '—á–µ—Ç–≤—ë—Ä—Ç–æ–º—É', '–ø—è—Ç–æ–º—É', '—à–µ—Å—Ç–æ–º—É', '—Å–µ–¥—å–º–æ–º—É', '–≤–æ—Å—å–º–æ–º—É', '–¥–µ–≤—è—Ç–æ–º—É'],
                            instrumental: ['', '–ø–µ—Ä–≤—ã–º', '–≤—Ç–æ—Ä—ã–º', '—Ç—Ä–µ—Ç—å–∏–º', '—á–µ—Ç–≤—ë—Ä—Ç—ã–º', '–ø—è—Ç—ã–º', '—à–µ—Å—Ç—ã–º', '—Å–µ–¥—å–º—ã–º', '–≤–æ—Å—å–º—ã–º', '–¥–µ–≤—è—Ç—ã–º'],
                            prepositional: ['', '–ø–µ—Ä–≤–æ–º', '–≤—Ç–æ—Ä–æ–º', '—Ç—Ä–µ—Ç—å–µ–º', '—á–µ—Ç–≤—ë—Ä—Ç–æ–º', '–ø—è—Ç–æ–º', '—à–µ—Å—Ç–æ–º', '—Å–µ–¥—å–º–æ–º', '–≤–æ—Å—å–º–æ–º', '–¥–µ–≤—è—Ç–æ–º']
                        };
                        parts.push(ordinalUnits[caseType][u]);
                    } else if (year % 100 === 0 && year % 1000 !== 0) {
                        // –î–ª—è –∫—Ä—É–≥–ª—ã—Ö —Å–æ—Ç–µ–Ω (2100, 2200, ...)
                        // –£–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤—ã—à–µ
                    }
                }
            }
            
            // –ï—Å–ª–∏ –≥–æ–¥ –∫—Ä–∞—Ç–µ–Ω 1000 (2000, 3000, ...)
            if (year % 1000 === 0) {
                // –£–±–∏—Ä–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ—Ä—è–¥–∫–æ–≤–æ–µ
                parts.pop();
                const ordinalThousand = {
                    nominative: '—Ç—ã—Å—è—á–Ω–æ–≥–æ',
                    genitive: '—Ç—ã—Å—è—á–Ω–æ–≥–æ',
                    dative: '—Ç—ã—Å—è—á–Ω–æ–º—É',
                    instrumental: '—Ç—ã—Å—è—á–Ω—ã–º',
                    prepositional: '—Ç—ã—Å—è—á–Ω–æ–º'
                };
                parts.push(ordinalThousand[caseType]);
            }
            
            return parts.filter(p => p).join(' ');
        }

        function formatDate(day, month, year, caseType) {
            const dayWord = getDayWord(day, caseType);
            const monthWord = months[caseType][month];
            const yearWord = getYearWord(year, caseType);
            
            let yearSuffix = '–≥–æ–¥–∞';
            if (caseType === 'dative') yearSuffix = '–≥–æ–¥—É';
            else if (caseType === 'instrumental') yearSuffix = '–≥–æ–¥–æ–º';
            else if (caseType === 'prepositional') yearSuffix = '–≥–æ–¥—É';
            
            let result = `${dayWord} ${monthWord} ${yearWord} ${yearSuffix}`;
            
            if (isCapital) {
                result = result.charAt(0).toUpperCase() + result.slice(1);
            }
            
            return result;
        }

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            document.getElementById('monthYear').textContent = `${monthNames[month]} ${year}`;
            document.getElementById('yearInput').value = year;
            
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDay = (firstDay.getDay() + 6) % 7;
            
            const container = document.getElementById('daysContainer');
            container.innerHTML = '';
            
            const prevMonthLast = new Date(year, month, 0).getDate();
            for (let i = startDay - 1; i >= 0; i--) {
                const div = document.createElement('div');
                div.className = 'day other-month';
                div.textContent = prevMonthLast - i;
                const d = prevMonthLast - i;
                const m = month - 1;
                const y = m < 0 ? year - 1 : year;
                const actualMonth = m < 0 ? 11 : m;
                div.onclick = () => selectDate(d, actualMonth, y);
                container.appendChild(div);
            }
            
            const today = new Date();
            for (let i = 1; i <= lastDay.getDate(); i++) {
                const div = document.createElement('div');
                div.className = 'day';
                div.textContent = i;
                
                if (today.getDate() === i && today.getMonth() === month && today.getFullYear() === year) {
                    div.classList.add('today');
                }
                
                if (selectedDate && selectedDate.day === i && selectedDate.month === month && selectedDate.year === year) {
                    div.classList.add('selected');
                }
                
                div.onclick = () => selectDate(i, month, year);
                container.appendChild(div);
            }
            
            const remaining = 42 - container.children.length;
            for (let i = 1; i <= remaining; i++) {
                const div = document.createElement('div');
                div.className = 'day other-month';
                div.textContent = i;
                const m = month + 1;
                const y = m > 11 ? year + 1 : year;
                const actualMonth = m > 11 ? 0 : m;
                div.onclick = () => selectDate(i, actualMonth, y);
                container.appendChild(div);
            }
        }

        function selectDate(day, month, year) {
            selectedDate = { day, month, year };
            currentDate = new Date(year, month, 1);
            renderCalendar();
            updateResults();
        }

        function updateResults() {
            if (!selectedDate) return;
            
            const { day, month, year } = selectedDate;
            
            document.getElementById('nominative').textContent = formatDate(day, month, year, 'nominative');
            document.getElementById('genitive').textContent = formatDate(day, month, year, 'genitive');
            document.getElementById('dative').textContent = formatDate(day, month, year, 'dative');
            document.getElementById('instrumental').textContent = formatDate(day, month, year, 'instrumental');
            document.getElementById('prepositional').textContent = formatDate(day, month, year, 'prepositional');
        }

        function changeMonth(delta) {
            currentDate.setMonth(currentDate.getMonth() + delta);
            renderCalendar();
        }

        function toggleCapital() {
            isCapital = !isCapital;
            const btn = document.getElementById('capitalBtn');
            btn.className = `toggle-btn ${isCapital ? 'active' : 'inactive'}`;
            btn.innerHTML = `<span class="indicator"></span> –ü–µ—Ä–≤–∞—è –∑–∞–≥–ª–∞–≤–Ω–∞—è: ${isCapital ? '–í–ö–õ' : '–í–´–ö–õ'}`;
            updateResults();
        }

        function copyText(element) {
            const text = element.textContent;
            if (text === '–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ') return;
            
            navigator.clipboard.writeText(text).then(() => {
                element.parentElement.classList.add('copied');
                setTimeout(() => {
                    element.parentElement.classList.remove('copied');
                }, 500);
            });
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥–æ–¥–∞
        document.getElementById('yearInput').addEventListener('change', function() {
            const year = parseInt(this.value);
            if (year >= 1 && year <= 9999) {
                currentDate.setFullYear(year);
                renderCalendar();
            }
        });

        document.getElementById('yearInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                this.blur();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        renderCalendar();
    </script>
</body>
</html>
